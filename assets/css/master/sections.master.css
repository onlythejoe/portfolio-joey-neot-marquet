/* --- SCROLL CONTAINER --- */
#ea-page-content {
    height:100vh;
    overflow-y:auto;
    scroll-snap-type:y mandatory;
    scroll-behavior:smooth;
}

/* --- SECTION MAGNETIQUE --- */
.ea-section {
    width:100%;
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:var(--ea-section-vspace) var(--ea-pad);
    scroll-snap-align:center;
    scroll-snap-stop:always;
}

/* --- PORTE EA (fenêtre verticale centrée) --- */
.ea-view {
    height:var(--ea-view-height);
    width:100%;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
}

/* Container interne */
.ea-section > .ea-container {
    width:min(var(--ea-layout-max, 1200px), 90%);
    height:var(--ea-view-height);
    display:flex;
    flex-direction:column;
    justify-content:center;
}

/* --- PREVIEW / DETAIL MODES --- */
.ea-preview,
.ea-detail {
    width:100%;
    display:flex;
    flex-direction:column;
    gap:1rem;
    align-items:flex-start;
}

.ea-detail {
    padding-top:1rem;
    max-width:100%;
}

.ea-detail[hidden] {
    display:none !important;
}

.ea-section--open .ea-container {
    height:auto;
    min-height:100vh;
}

.ea-mode-detail .ea-section--open .ea-container {
    height:auto;
    min-height:auto;
}

.ea-section--hidden {
    opacity:0;
    pointer-events:none;
    height:0;
    min-height:0 !important;
    padding:0;
    margin:0;
    overflow:hidden;
}

.ea-section-open,
.ea-section-back {
    display:inline-flex;
    align-items:center;
    gap:0.35rem;
    border:1px solid currentColor;
    background:rgba(255,255,255,var(--ea-alpha-10));
    padding:0.5rem 0.85rem;
    border-radius:999px;
    cursor:pointer;
    text-transform:uppercase;
    letter-spacing:0.04em;
    font-size:0.85rem;
    line-height:1.2;
}

.ea-section-back {
    align-self:flex-start;
    margin-bottom:1rem;
}

.ea-content--detail {
    scroll-snap-type:unset;
}

.ea-content--detail#ea-page-content {
    padding:0;
    height:auto;
    min-height:100vh;
    scroll-snap-type:none;
    width:100%;
}

.ea-content--detail .ea-section {
    width:100%;
    min-height:auto;
    height:auto;
    justify-content:flex-start;
    align-items:center;
    padding-top:4rem;
    padding-bottom:4rem;
}

.ea-content--detail .ea-section .ea-container {
    min-height:auto;
    height:auto;
    align-items:flex-start;
    max-width:var(--ea-layout-max);
    width:100%;
    margin:0 auto;
    padding:0 2.5rem 3.5rem;
}

.ea-content--detail .ea-view {
    height:auto;
    min-height:unset;
    align-items:flex-start;
    justify-content:flex-start;
    width:100%;
}

.ea-content--detail .ea-section > .ea-container {
    height:auto;
}

.ea-mode-detail .ea-section {
    align-items:center;
    justify-content:flex-start;
}

.ea-mode-detail .ea-section--open .ea-preview {
    display:none !important;
}

.ea-mode-detail .ea-section--open .ea-detail {
    display:flex !important;
}

.ea-mode-detail #ea-progress-nav {
    display:none;
}

.ea-mode-detail #ea-layout {
    grid-template-columns: 1fr;
}

@media (max-width: var(--ea-bp-md)) {
    #ea-page-content {
        scroll-snap-type: none;
        height: auto;
    }
    .ea-section {
        align-items: flex-start;
        padding: clamp(var(--ea-space-lg), 12vh, var(--ea-section-vspace)) clamp(1.25rem, 6vw, 2.4rem);
        scroll-snap-align: unset;
        scroll-snap-stop: unset;
        min-height: auto;
    }
    .ea-section > .ea-container {
        width: min(var(--ea-layout-max, 1200px), 96%);
        height: auto;
        min-height: auto;
    }
    .ea-view {
        height: auto;
        min-height: auto;
        justify-content: flex-start;
    }
    .ea-preview,
    .ea-detail {
        gap: var(--ea-space-md);
    }
    .ea-content--detail .ea-section {
        padding-top: var(--ea-space-xl);
        padding-bottom: var(--ea-space-xl);
    }
    .ea-content--detail .ea-section .ea-container {
        padding: 0 clamp(1.25rem, 6vw, 2.25rem) clamp(2.5rem, 7vw, 3rem);
    }
    .ea-section--open .ea-container {
        min-height: auto;
    }
}

@media (prefers-reduced-motion: reduce) {
    #ea-page-content {
        scroll-behavior: auto;
        scroll-snap-type: none;
    }
    .ea-section {
        scroll-snap-align: unset;
        scroll-snap-stop: unset;
    }
}

@media (max-width: var(--ea-bp-sm)) {
    #ea-page-content {
        scroll-snap-type: none;
    }
    .ea-section {
        scroll-snap-align: unset;
        scroll-snap-stop: unset;
    }
}
